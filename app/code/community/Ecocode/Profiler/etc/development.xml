<?xml version="1.0"?>
<config>
    <ecocode>
        <profiler>
            <toolbar>1</toolbar>
            <allow_ip>127.0.0.1</allow_ip>
            <collectors>
                <request>ecocode_profiler/collector_requestDataCollector</request>
                <memory>ecocode_profiler/collector_memoryDataCollector</memory>
                <time>ecocode_profiler/collector_timeDataCollector</time>
                <ajax>ecocode_profiler/collector_ajaxDataCollector</ajax>
                <mysql>ecocode_profiler/collector_mysqlDataCollector</mysql>
                <translation>ecocode_profiler/collector_translationDataCollector</translation>
                <rewrite>ecocode_profiler/collector_rewriteDataCollector</rewrite>
                <customer>ecocode_profiler/collector_customerDataCollector</customer>
                <layout>ecocode_profiler/collector_layoutDataCollector</layout>
                <config>ecocode_profiler/collector_configDataCollector</config>
                <event>ecocode_profiler/collector_eventDataCollector</event>
                <cache>ecocode_profiler/collector_cacheDataCollector</cache>
                <log>ecocode_profiler/collector_logDataCollector</log>
                <model>ecocode_profiler/collector_modelDataCollector</model>
            </collectors>
        </profiler>
    </ecocode>
    <global>
        <models>
            <ecocode_profiler>
                <class>Ecocode_Profiler_Model</class>
                <resourceModel>ecocode_profiler_resource</resourceModel>
            </ecocode_profiler>
            <ecocode_profiler_resource>
                <class>Ecocode_Profiler_Model_Resource</class>
            </ecocode_profiler_resource>
        </models>
        <blocks>
            <ecocode_profiler>
                <class>Ecocode_Profiler_Block</class>
            </ecocode_profiler>
        </blocks>
        <helpers>
            <ecocode_profiler>
                <class>Ecocode_Profiler_Helper</class>
            </ecocode_profiler>
        </helpers>
        <events>
            <controller_action_predispatch>
                <observers>
                    <ecocode_profiler_check_redirect>
                        <type>singleton</type>
                        <class>ecocode_profiler/observer</class>
                        <method>checkRedirect</method>
                    </ecocode_profiler_check_redirect>
                    <ecocode_profiler_capture_flash_messages>
                        <type>singleton</type>
                        <class>ecocode_profiler/observer</class>
                        <method>captureFlashMessages</method>
                    </ecocode_profiler_capture_flash_messages>
                </observers>
            </controller_action_predispatch>
            <controller_front_send_response_before>
                <observers>
                    <ecocode_profiler>
                        <type>singleton</type>
                        <class>ecocode_profiler/observer</class>
                        <method>controllerFrontSendResponseBefore</method>
                    </ecocode_profiler>
                </observers>
            </controller_front_send_response_before>
            <mage_terminate>
                <observers>
                    <ecocode_profiler>
                        <type>singleton</type>
                        <class>ecocode_profiler/observer</class>
                        <method>onTerminate</method>
                    </ecocode_profiler>
                </observers>
            </mage_terminate>
            <core_block_abstract_to_html_before>
                <observers>
                    <ecocode_profiler_context>
                        <type>singleton</type>
                        <class>ecocode_profiler/observer_context</class>
                        <method>openBlockContext</method>
                    </ecocode_profiler_context>
                    <ecocode_layout_profiler>
                        <type>singleton</type>
                        <class>ecocode_profiler/collector_layoutDataCollector</class>
                        <method>beforeToHtml</method>
                    </ecocode_layout_profiler>
                </observers>
            </core_block_abstract_to_html_before>
            <core_block_abstract_to_html_after>
                <observers>
                    <ecocode_profiler_context>
                        <type>singleton</type>
                        <class>ecocode_profiler/observer_context</class>
                        <method>closeBlockContext</method>
                    </ecocode_profiler_context>
                    <ecocode_layout_profiler>
                        <type>singleton</type>
                        <class>ecocode_profiler/collector_layoutDataCollector</class>
                        <method>afterToHtml</method>
                    </ecocode_layout_profiler>
                </observers>
            </core_block_abstract_to_html_after>
            <model_resource_db_load>
                <observers>
                    <ecocode_profiler_model>
                        <type>singleton</type>
                        <method>trackModelLoad</method>
                        <class>ecocode_profiler/collector_modelDataCollector</class>
                    </ecocode_profiler_model>
                </observers>
            </model_resource_db_load>
            <model_resource_db_save>
                <observers>
                    <ecocode_profiler_model>
                        <type>singleton</type>
                        <method>trackModelSave</method>
                        <class>ecocode_profiler/collector_modelDataCollector</class>
                    </ecocode_profiler_model>
                </observers>
            </model_resource_db_save>
            <model_resource_db_delete>
                <observers>
                    <ecocode_profiler_model>
                        <type>singleton</type>
                        <method>trackModelDelete</method>
                        <class>ecocode_profiler/collector_modelDataCollector</class>
                    </ecocode_profiler_model>
                </observers>
            </model_resource_db_delete>
        </events>
    </global>
    <frontend>
        <layout>
            <updates>
                <ecocode_profiler>
                    <file>ecocode_profiler.xml</file>
                </ecocode_profiler>
            </updates>
        </layout>
        <routers>
            <profiler>
                <use>standard</use>
                <args>
                    <frontName>_profiler</frontName>
                    <module>Ecocode_Profiler</module>
                </args>
            </profiler>
        </routers>
    </frontend>
</config>
